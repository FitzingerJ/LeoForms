<h2>Formular: {{surveyName}}</h2>

<p *ngIf="workflow.length > 0">
  <strong>Fortschritt:</strong>
  <ng-container *ngIf="isRejected(); else regularStep">
    ‚ùå Abgelehnt
  </ng-container>
  <ng-template #regularStep>
    <ng-container *ngIf="visibleStepIndex >= 0; else systemStep">
      Schritt {{ visibleStepIndex + 1 }} von {{ visibleSteps.length }} ({{ currentStepLabel }})
    </ng-container>
    <ng-template #systemStep>
      Systemschritt ({{ currentStepLabel }})
    </ng-template>
  </ng-template>
</p>

<!-- üß© Genau wie in create-survey.component.html -->
<div #variableBinding class="variable-binding"></div>

<div *ngIf="canEdit" class="actions">
  <button mat-raised-button color="primary" (click)="confirm()">Best√§tigen</button>
  <button mat-raised-button color="warn" (click)="reject()">Ablehnen</button>
</div>

<div *ngIf="!canEdit && !isRejected()" class="info">
  <p>Du bist derzeit nicht an der Reihe.</p>
</div>

<div *ngIf="isRejected()" class="info">
  <strong>Ablehnungsgrund:</strong> {{ getRejectionReason() }}
</div>